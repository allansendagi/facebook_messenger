{"ast":null,"code":"import _slicedToArray from\"/Users/AllanSendagi/Desktop/messenger_app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import firebase from'firebase';import Message from'./Message';import{Button,FormControl,InputLabel,Input}from\"@material-ui/core\";import FlipMove from\"react-flip-move\";import db from\"./firebase\";import SendIcon from\"@material-ui/icons/Send\";import IconButton from'@material-ui/core/IconButton';import'./App.css';function App(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),input=_useState2[0],setInput=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),messages=_useState4[0],setMessages=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),username=_useState6[0],setUsername=_useState6[1];var sendMessage=function sendMessage(event){event.preventDefault();db.collection(\"messages\").add({message:input,username:username,timestamp:firebase.firestore.FieldValue.serverTimestamp()});setInput('');};useEffect(function(){setUsername(prompt(\"please enter your name\"));},[]);useEffect(function(){db.collection(\"messages\").orderBy(\"timestamp\",\"desc\").onSnapshot(function(snapshop){setMessages(snapshop.docs.map(function(doc){return{id:doc.id,message:doc.data()};}));});},[]);return/*#__PURE__*/React.createElement(\"div\",{className:\"app\"},/*#__PURE__*/React.createElement(\"img\",{src:\"https://facebookbrand.com/wp-content/uploads/2018/09/Header-e1538151782912.png?w=100&h=100\"}),/*#__PURE__*/React.createElement(\"h1\",null,\"Send your messages Here\"),/*#__PURE__*/React.createElement(\"h2\",null,\"Welcome \",username),/*#__PURE__*/React.createElement(\"form\",{className:\"app__form\"},/*#__PURE__*/React.createElement(FormControl,{className:\"app__formControl\"},/*#__PURE__*/React.createElement(Input,{className:\"app__input\",placeholder:\"Enter a message...\",value:input,onChange:function onChange(event){return setInput(event.target.value);}}),/*#__PURE__*/React.createElement(IconButton,{className:\"app__iconButton\",disabled:!input,variant:\"contained\",color:\"primary\",type:\"submit\",onClick:sendMessage},/*#__PURE__*/React.createElement(SendIcon,null)))),/*#__PURE__*/React.createElement(FlipMove,null,messages.map(function(_ref){var id=_ref.id,message=_ref.message;return/*#__PURE__*/React.createElement(Message,{key:id,username:username,message:message});})));}export default App;","map":{"version":3,"sources":["/Users/AllanSendagi/Desktop/messenger_app/src/App.js"],"names":["React","useState","useEffect","firebase","Message","Button","FormControl","InputLabel","Input","FlipMove","db","SendIcon","IconButton","App","input","setInput","messages","setMessages","username","setUsername","sendMessage","event","preventDefault","collection","add","message","timestamp","firestore","FieldValue","serverTimestamp","prompt","orderBy","onSnapshot","snapshop","docs","map","doc","id","data","target","value"],"mappings":"gKAAA,MAAOA,CAAAA,KAAP,EAAeC,QAAf,CAAyBC,SAAzB,KAAyC,OAAzC,CACA,MAAOC,CAAAA,QAAP,KAAqB,UAArB,CACA,MAAOC,CAAAA,OAAP,KAAoB,WAApB,CACA,OAAQC,MAAR,CAAgBC,WAAhB,CAA6BC,UAA7B,CAAyCC,KAAzC,KAAqD,mBAArD,CACA,MAAOC,CAAAA,QAAP,KAAqB,iBAArB,CACA,MAAOC,CAAAA,EAAP,KAAe,YAAf,CACA,MAAOC,CAAAA,QAAP,KAAqB,yBAArB,CACA,MAAOC,CAAAA,UAAP,KAAuB,8BAAvB,CAEA,MAAO,WAAP,CAEA,QAASC,CAAAA,GAAT,EAAe,eACYZ,QAAQ,CAAC,EAAD,CADpB,wCACPa,KADO,eACAC,QADA,8BAEkBd,QAAQ,CAAC,EAAD,CAF1B,yCAEPe,QAFO,eAEGC,WAFH,8BAIkBhB,QAAQ,CAAC,EAAD,CAJ1B,yCAIPiB,QAJO,eAIGC,WAJH,eAMd,GAAMC,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,CAACC,KAAD,CAAW,CAC9BA,KAAK,CAACC,cAAN,GACAZ,EAAE,CAACa,UAAH,CAAc,UAAd,EAA0BC,GAA1B,CAA8B,CAC7BC,OAAO,CAAEX,KADoB,CAE7BI,QAAQ,CAAEA,QAFmB,CAG7BQ,SAAS,CAAEvB,QAAQ,CAACwB,SAAT,CAAmBC,UAAnB,CAA8BC,eAA9B,EAHkB,CAA9B,EAKAd,QAAQ,CAAC,EAAD,CAAR,CACA,CARD,CAUAb,SAAS,CAAC,UAAM,CACbiB,WAAW,CAACW,MAAM,CAAC,wBAAD,CAAP,CAAX,CACF,CAFQ,CAEP,EAFO,CAAT,CAIA5B,SAAS,CAAC,UAAM,CACfQ,EAAE,CAACa,UAAH,CAAc,UAAd,EACCQ,OADD,CACS,WADT,CACsB,MADtB,EAECC,UAFD,CAEY,SAAAC,QAAQ,CAAI,CACvBhB,WAAW,CAACgB,QAAQ,CAACC,IAAT,CAAcC,GAAd,CAAkB,SAACC,GAAD,QAAU,CAACC,EAAE,CAACD,GAAG,CAACC,EAAR,CAAYZ,OAAO,CAACW,GAAG,CAACE,IAAJ,EAApB,CAAV,EAAlB,CAAD,CAAX,CACA,CAJD,EAKA,CANQ,CAMP,EANO,CAAT,CAOC,mBACE,2BAAK,SAAS,CAAC,KAAf,eACA,2BAAK,GAAG,CAAC,4FAAT,EADA,cAEC,wDAFD,cAGC,yCAAapB,QAAb,CAHD,cAIC,4BAAM,SAAS,CAAC,WAAhB,eACH,oBAAC,WAAD,EAAa,SAAS,CAAC,kBAAvB,eACE,oBAAC,KAAD,EAAO,SAAS,CAAC,YAAjB,CAA8B,WAAW,CAAC,oBAA1C,CAA+D,KAAK,CAAEJ,KAAtE,CAA6E,QAAQ,CAAE,kBAAAO,KAAK,QAAIN,CAAAA,QAAQ,CAACM,KAAK,CAACkB,MAAN,CAAaC,KAAd,CAAZ,EAA5F,EADF,cAEG,oBAAC,UAAD,EACC,SAAS,CAAC,iBADX,CAEC,QAAQ,CAAE,CAAC1B,KAFZ,CAGC,OAAO,CAAC,WAHT,CAIC,KAAK,CAAC,SAJP,CAKC,IAAI,CAAC,QALN,CAMC,OAAO,CAAEM,WANV,eAOC,oBAAC,QAAD,MAPD,CAFH,CADG,CAJD,cAkBE,oBAAC,QAAD,MAEDJ,QAAQ,CAACmB,GAAT,CAAa,kBAAEE,CAAAA,EAAF,MAAEA,EAAF,CAAMZ,OAAN,MAAMA,OAAN,oBACb,oBAAC,OAAD,EAAS,GAAG,CAAEY,EAAd,CAAkB,QAAQ,CAAEnB,QAA5B,CAAsC,OAAO,CAAEO,OAA/C,EADa,EAAb,CAFC,CAlBF,CADF,CA4BD,CAED,cAAeZ,CAAAA,GAAf","sourcesContent":["import React, {useState, useEffect} from 'react';\nimport firebase from 'firebase';\nimport Message from './Message';\nimport {Button, FormControl, InputLabel, Input} from \"@material-ui/core\";\nimport FlipMove from \"react-flip-move\";\nimport db from \"./firebase\";\nimport SendIcon from \"@material-ui/icons/Send\";\nimport IconButton from '@material-ui/core/IconButton';\n\nimport './App.css';\n\nfunction App() {\n\tconst [input, setInput] = useState(\"\");\n\tconst [messages, setMessages] = useState([]);\n\n\tconst [username, setUsername] = useState('');\n\n\tconst sendMessage = (event) => {\n\t\tevent.preventDefault();\n\t\tdb.collection(\"messages\").add({\n\t\t\tmessage: input,\n\t\t\tusername: username,\n\t\t\ttimestamp: firebase.firestore.FieldValue.serverTimestamp()\n\t\t})\n\t\tsetInput('')\n\t}\n\n\tuseEffect(() => {\n\t   setUsername(prompt(\"please enter your name\"))\n\t},[])\n\n\tuseEffect(() => {\n\t\tdb.collection(\"messages\")\n\t\t.orderBy(\"timestamp\", \"desc\")\n\t\t.onSnapshot(snapshop => {\n\t\t\tsetMessages(snapshop.docs.map((doc) => ({id:doc.id, message:doc.data()})))\n\t\t})\n\t},[])\n  return (\n    <div className=\"app\">\n    <img src=\"https://facebookbrand.com/wp-content/uploads/2018/09/Header-e1538151782912.png?w=100&h=100\" />\n\t    <h1>Send your messages Here</h1>\n\t    <h2>Welcome {username}</h2>\n\t    <form className=\"app__form\">\n\t\t<FormControl className=\"app__formControl\">\n\t\t  <Input className=\"app__input\" placeholder=\"Enter a message...\" value={input} onChange={event => setInput(event.target.value)}/>\n\t\t  \t<IconButton\n\t\t\t  \tclassName=\"app__iconButton\"\n\t\t\t  \tdisabled={!input} \n\t\t\t  \tvariant=\"contained\" \n\t\t\t  \tcolor=\"primary\" \n\t\t\t  \ttype=\"submit\" \n\t\t\t  \tonClick={sendMessage}>\t\t  \t\t\n\t\t  \t <SendIcon />\n\t\t  \t</IconButton>\n\t\t </FormControl>\n\t   \t </form>\n\t   \t <FlipMove>\n  \t\t{\n  \t\t\tmessages.map(({id, message}) => (\n  \t\t\t<Message key={id} username={username} message={message} />\n  \t\t\t))\n  \t      }\n  \t     </FlipMove>\n    </div>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}